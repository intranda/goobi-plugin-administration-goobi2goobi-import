<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui">

    <composite:interface>
    </composite:interface>

    <composite:implementation>

        <style>
#upload .ui-widget-header {
    background: #fff none repeat scroll 0 0;
}

#upload .ui-fileupload-choose {
    background: #368ee0 none repeat scroll 0 0;
    color: #fff;
    text-shadow: none;
    border: 0 none;
    padding: 0.3em 1em;
    font-weight: 400;
    float: right;
    margin-right: 15px;
}

#upload .ui-fileupload-buttonbar span.ui-button .ui-button-text {
    padding: 0.3em 1em;
}

#upload .ui-fileupload-buttonbar span.ui-button span.ui-button-icon-left
    {
    display: none;
}

#upload .ui-fileupload-files {
    width: 100%;
}

#upload .ui-fileupload-files td:first-child {
    display: none;
}

#project {
    border: 0;
    padding: 0;
}
</style>

        <h:panelGroup rendered="#{!LoginForm.hasRole('administration_import_data')}">
            <h:outputText
                styleClass="alert alert-danger alert-dismissable margin-bottom-10 margin-top-10"
                value="#{mgs.plugin_administration_missingPermission} administration_import_data"></h:outputText>
        </h:panelGroup>

        <h:panelGroup rendered="#{LoginForm.hasRole('administration_import_data')}">

            <h:form
                prependId="false"
                enctype="multipart/form-data"
                id="fileupload"
                styleClass="form-horizontal form-bordered">
                <h:panelGroup
                    layout="block"
                    styleClass="row"
                    id="import">
                    <div class="col-sm-12">
                        <div class="box box-color orange box-bordered">
                            <div
                                class="box-title"
                                id="title">
                                <h3>
                                    <i class="fa fa-plug"></i>
                                    <h:outputText value="#{msgs.plugin_administration_import_uploadFile}" />
                                </h3>
                            </div>
                            <div class="box-content nopadding">

                                <h:panelGroup id="file">
                                    <p:fileUpload
                                        fileUploadListener="#{AdministrationForm.administrationPlugin.handleFileUpload}"
                                        id="upload"
                                        auto="true"
                                        style="text-align:center;"
                                        mode="advanced"
                                        update="list"
                                        multiple="false"
                                        dragDropSupport="true"
                                        label="#{msgs.selectFiles}"
                                        allowTypes="/(\.|\/)(xml|zip)$/" />
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <h:panelGroup id="list">


                    <h:panelGroup
                        layout="block"
                        styleClass="row"
                        rendered="#{AdministrationForm.administrationPlugin.filename != null}">


                        <div class="col-sm-12">
                            <div class="box box-color box-bordered">
                                <div
                                    class="box-title"
                                    id="title">
                                    <h3>
                                        <i class="fa fa-plug"></i>
                                        <h:outputText value="#{msgs.plugin_administration_import_summary}" />
                                    </h3>
                                </div>
                                <div class="box-content nopadding">
<!--                                     <intranda:formOutputText -->
<!--                                         id="filename" -->
<!--                                         label="#{msgs.filename}" -->
<!--                                         field="#{AdministrationForm.administrationPlugin.filename}" -->
<!--                                         help="" -->
<!--                                         fieldStyle="form-control" -->
<!--                                         name="filename" /> -->


                                    <intranda:formOutputText
                                        id="totalNumberOfLdaps"
                                        label="#{msgs.plugin_administration_import_totalNumberOfLdaps}"
                                        field="#{AdministrationForm.administrationPlugin.totalNumberOfLdaps}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="totalNumberOfLdaps" />


                                    <intranda:formOutputText
                                        id="numberOfNewLdaps"
                                        label="#{msgs.plugin_administration_import_numberOfNewLdaps}"
                                        field="#{AdministrationForm.administrationPlugin.numberOfNewLdaps}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="numberOfNewLdaps" />


                                    <intranda:formOutputText
                                        id="totalNumberOfProjects"
                                        label="#{msgs.plugin_administration_import_totalNumberOfProjects}"
                                        field="#{AdministrationForm.administrationPlugin.totalNumberOfProjects}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="totalNumberOfLdaps" />


                                    <intranda:formOutputText
                                        id="numberOfNewProjects"
                                        label="#{msgs.plugin_administration_import_numberOfNewProjects}"
                                        field="#{AdministrationForm.administrationPlugin.numberOfNewProjects}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="numberOfNewProjects" />


                                    <intranda:formOutputText
                                        id="totalNumberOfRulesets"
                                        label="#{msgs.plugin_administration_import_totalNumberOfRulesets}"
                                        field="#{AdministrationForm.administrationPlugin.totalNumberOfRulesets}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="totalNumberOfRulesets" />
                                    <intranda:formOutputText
                                        id="numberOfNewRulesets"
                                        label="#{msgs.plugin_administration_import_numberOfNewRulesets}"
                                        field="#{AdministrationForm.administrationPlugin.numberOfNewRulesets}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="numberOfNewRulesets" />
                                        
                                        
                                   <intranda:formOutputText
                                        id="totalNumberOfDockets"
                                        label="#{msgs.plugin_administration_import_totalNumberOfDockets}"
                                        field="#{AdministrationForm.administrationPlugin.totalNumberOfDockets}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="totalNumberOfDockets" />
                                    <intranda:formOutputText
                                        id="numberOfNewDockets"
                                        label="#{msgs.plugin_administration_import_numberOfNewDockets}"
                                        field="#{AdministrationForm.administrationPlugin.numberOfNewDockets}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="numberOfNewDockets" />
                                        
                                        


                                        
                                        
                                   <intranda:formOutputText
                                        id="totalNumberOfUsers"
                                        label="#{msgs.plugin_administration_import_totalNumberOfUsers}"
                                        field="#{AdministrationForm.administrationPlugin.totalNumberOfUsers}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="totalNumberOfUsers" />
                                    <intranda:formOutputText
                                        id="numberOfNewUsers"
                                        label="#{msgs.plugin_administration_import_numberOfNewUsers}"
                                        field="#{AdministrationForm.administrationPlugin.numberOfNewUsers}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="numberOfNewUsers" />
                                        
                                        
                                        
                                                                                
                                        
                                   <intranda:formOutputText
                                        id="totalNumberOfUserGroups"
                                        label="#{msgs.plugin_administration_import_totalNumberOfUserGroups}"
                                        field="#{AdministrationForm.administrationPlugin.totalNumberOfUserGroups}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="totalNumberOfUserGroups" />
                                    <intranda:formOutputText
                                        id="numberOfNewUserGroups"
                                        label="#{msgs.plugin_administration_import_numberOfNewUserGroups}"
                                        field="#{AdministrationForm.administrationPlugin.numberOfNewUserGroups}"
                                        help=""
                                        fieldStyle="form-control"
                                        name="numberOfNewUserGroups" />
                                        

                                </div>
                            </div>
                        </div>




                    </h:panelGroup>





                    <h:panelGroup
                        layout="block"
                        styleClass="row"
                        rendered="#{AdministrationForm.administrationPlugin.uploadHasErrors}">
                        <h:panelGroup
                            layout="block"
                            styleClass="col-sm-12">
                            <div class="box box-color lightgrey box-bordered">
                                <div
                                    class="box-title"
                                    id="title">
                                    <h3>
                                        <i class="fa fa-exclamation"></i>
                                        <h:outputText value="#{msgs.plugin_kb_notMatchedBindings}" />
                                    </h3>
                                </div>


                                <div class="box-content nopadding">





                                    <!--                                     <x:dataTable -->
                                    <!--                                         value="#{AdministrationForm.administrationPlugin.errorList}" -->
                                    <!--                                         var="binding" -->
                                    <!--                                         id="table" -->
                                    <!--                                         tyle="max-width: 100%;" -->
                                    <!--                                         rowIndexVar="count" -->
                                    <!--                                         styleClass="table table-hover table-nomargin dataTable table-bordered responsive"> -->

                                    <!--                                         <x:column> -->
                                    <!--                                             <f:facet name="header"> -->
                                    <!--                                                 <h:outputText value="#{msgs.barcode}" /> -->
                                    <!--                                             </f:facet> -->
                                    <!--                                             <h:outputText value="#{binding.bindingBarcode}" /> -->
                                    <!--                                         </x:column> -->

                                    <!--                                         <x:column> -->
                                    <!--                                             <f:facet name="header"> -->
                                    <!--                                                 <h:outputText value="#{msgs.ppn}" /> -->
                                    <!--                                             </f:facet> -->
                                    <!--                                             <h:outputText value="#{binding.bindingPPN}" /> -->
                                    <!--                                         </x:column> -->

                                    <!--                                         <x:column> -->
                                    <!--                                             <f:facet name="header"> -->
                                    <!--                                                 <h:outputText value="#{msgs.shelfmark}" /> -->
                                    <!--                                             </f:facet> -->
                                    <!--                                             <h:outputText value="#{binding.shelfmark}" /> -->
                                    <!--                                         </x:column> -->

                                    <!--                                         <x:column> -->
                                    <!--                                             <f:facet name="header"> -->
                                    <!--                                                 <h:outputText value="#{msgs.reason}" /> -->
                                    <!--                                             </f:facet> -->
                                    <!--                                             <h:outputText value="#{binding.errorText}" /> -->
                                    <!--                                         </x:column> -->

                                    <!--                                     </x:dataTable> -->

                                </div>
                            </div>
                        </h:panelGroup>
                    </h:panelGroup>
                    <h:commandLink
                        rendered="#{AdministrationForm.administrationPlugin.filename != null and LoginForm.hasRole('edit_upload_packinglist') and !AdministrationForm.administrationPlugin.uploadHasErrors}"
                        styleClass="btn btn-lightgrey pull-right margin-right-10 margin-top-10 margin-bottom-10 font-size-s"
                        id="finalize"
                        action="#{AdministrationForm.administrationPlugin.importSelectedData}">
                        <i class="fa fa-exchange margin-right-5"></i>
                        <h:outputText value="#{msgs.finalizePlugin}" />
                    </h:commandLink>


                </h:panelGroup>
            </h:form>
        </h:panelGroup>
    </composite:implementation>

</ui:composition>